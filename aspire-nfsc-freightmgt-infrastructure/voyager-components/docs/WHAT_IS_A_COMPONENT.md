<!--
*** Thanks for checking out this README Template. If you have a suggestion that would
*** make this better, please fork the repo and create a pull request or simply open
*** an issue with the tag "enhancement".
*** Thanks again! Now go create something AMAZING! :D
***
***
***
*** To avoid retyping too much info. Do a search and replace for the following:
*** JSainsburyPLC, voyager-components
-->

<!-- PROJECT SHIELDS -->
<!--
*** I'm using markdown "reference style" links for readability.
*** Reference links are enclosed in brackets [ ] instead of parentheses ( ).
*** See the bottom of this document for the declaration of the reference variables
*** for contributors-url, forks-url, etc. This is an optional, concise syntax you may use.
*** https://www.markdownguide.org/basic-syntax/#reference-style-links
-->

<!-- PROJECT LOGO -->
<br />
<p align="center">
  <a href="https://github.com/JSainsburyPLC/voyager-components">
    <img src="images/logo.png" alt="Logo" width="80" height="80">
  </a>

  <h3 align="center">Voyager</h3>

  <p align="center">
    Voyager Components - Your one stop shop for Voyager framework feature set
    <br />
    <a href="https://github.com/JSainsburyPLC/voyager-components"><strong>Explore the docs »</strong></a>
    <br />
    <br />
    <a href="https://web.microsoftstream.com/video/662ea071-e4c2-415b-9c6a-17b934e1ad36">Voyager Quickstart Video</a>
    ·
    <a href="https://github.com/JSainsburyPLC/voyager-components/issues">Report Bug</a>
    ·
    <a href="https://github.com/JSainsburyPLC/voyager-components/issues">Request Feature</a>
  </p>
</p>

<!-- TABLE OF CONTENTS -->

## Table of Contents

- [Components](#components)
  - [What is a component?](#what-is-a-component)
  - [What is mandatory in a component?](#what-is-mandatory-in-a-component)
  - [To update a component](#to-update-a-component)
  - [To create a component](#to-create-a-component)
- [Contact](#contact)
- [Acknowledgements](#acknowledgements)

<!-- Components -->

### Components

<!-- What is a component? -->

### What is a component?

A component represents a piece of infrastructure that would contribute to the
reusability, automation, testing, deployment or maintainability of a data
pipeline. It is built on the foundation of Terraform but extended with the
ability to run scripts for enhancements and create explicit dependencies
between components. Each component is represented by a single Terraform state
file.

<!-- What is mandatory in a component? -->

### What is mandatory in a component?

Components expect particular files to exist to be interoperable with the
framework. The files are as follows:

1. .terraform-docs.yml

The file contents should be:

```
formatter: markdown table
header-from: main.tf
settings:
  indent: 4
  required: false
```

Having set this, you can run `terraform-docs . > README.md` from within the
directory to generate the readme.

2. README.md - can generated by terraform-docs

This will contain the header from the main.tf file and all other terraform
information. If there is no terraform in the component, please write your
README manually.

3. main.tf

The main terraform file for the component. It can have a comment block at the
top for adding contextual sections to the README. As components can be small
and fairly isolated, you may only need this file to declare your module
references. However, you can use other files if necessary but please take the
Terraform docs into account.

4. output.tf

These are where your Terraform outputs are declared.

5. variables.tf

These are where your Terraform inputs are declared.

6. example/voyager_variables.yaml

When developing a component, please put an example Voyager config excerpt into
this file so that others can quickly see how to use it. You may add
dependencies as well to show a complete example but please indicate what
variables need to be entered by clearing the values.

All other folders found under the example components are optional however we do
encourage following the pattern for consistency. The following directories are
p
optional but strongly recommended:

1. images

All Docker images used by the component.

2. scripts

Any additional scripts used to glue the component together (except scripts used by the
images which can live with the image)

3. assets

All other required assets required by the component (except assets used by the images which can live with the image)

<!-- To update a component -->

### To update a component

To iterate on a component, it is advised to do so from your squad repository and follow these steps:

1. Set the "development: true" flag in your configuration for the component you
   want to update ([see
   here](https://github.com/JSainsburyPLC/voyager-components/blob/master/voyager_cli/README.md))
1. If you have your `voyager-components` directory git submoduled, you can drop
   into the directory and create a new branch such as `feature/my_feature`
1. Run the dev environment and use the `voyager generate` and `voyager deploy`
   commands to generate or deploy the component
1. Make any changes to the component in the `voyager-componets` directory and
   test them
1. Commit any changes to your feature branch and push them to the remote to get
   ready for creating a PR

<!-- To create a component -->

### To create a component

Feature branch as above, then copy pasta the most similar component and update
it. Thoroughly test it in a development environment before submitting it for a
pull request.

<!-- CONTACT -->

## Contact

Slack - #data-voyager

Project Link: [https://github.com/JSainsburyPLC/voyager-components](https://github.com/JSainsburyPLC/voyager-components)

<!-- ACKNOWLEDGEMENTS -->

## Acknowledgements

- [GDP_PEAR]()
- [GDP_STRAWBERRY]()
- [GDP_APPLE]()
- [GDP_PAPAYA]()
- [GDP_ORANGE]()
- [GDP_LIME]()
- [GDP_AVACADO]()
